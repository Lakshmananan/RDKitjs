Port R\+D\+Kit to js using emscripten with A\+SM \& W\+A\+SM

\section*{Emscripten installation \& activation }

Install emscripten (1.\+37.\+33 or higher). \href{https://kripken.github.io/emscripten-site/docs/getting_started/downloads.html}{\tt https\+://kripken.\+github.\+io/emscripten-\/site/docs/getting\+\_\+started/downloads.\+html}

\section*{R\+D\+Kit emscripten binding }

install R\+D\+Kit 2015.\+3.\+1, 2016.\+3.\+5, 2016.\+9.\+4 (old version of Libraries). or install R\+D\+Kit 2017.\+3.\+3, 2017.\+9.\+3 (New version of Libraries).

you need to add eigen3 include files for 3\+Ddescriptors (since R\+Dkit 2017.\+3)


\begin{DoxyCode}
wget https://github.com/rdkit/rdkit/archive/Release\_2017\_09\_3.tar.gz
wget https://github.com/rdkit/rdkit/archive/Release\_2017\_03\_3.tar.gz
wget https://github.com/rdkit/rdkit/archive/Release\_2016\_09\_4.tar.gz
wget https://github.com/rdkit/rdkit/archive/Release\_2016\_03\_5.tar.gz
wget http://downloads.sourceforge.net/project/rdkit/rdkit/Q1\_2015/RDKit\_2015\_03\_1.tgz
\end{DoxyCode}


Choose your version based on required R\+Dkit functionnalities and compile R\+D\+Kit first for emscripten\+: 
\begin{DoxyCode}
tar -xf RDKit\_20YY\_0M\_V.tgz
cd rdkit-Release\_20YY\_0M\_V
mkdir build
cd build


cmake  .. \(\backslash\)
-DCMAKE\_TOOLCHAIN\_FILE=/path/to/emsdk/emscripten/1.37.33/cmake/Modules/Platform/Emscripten.cmake \(\backslash\)
-DRDK\_BUILD\_PYTHON\_WRAPPERS=OFF \(\backslash\)
-DRDK\_BUILD\_CPP\_TESTS=OFF \(\backslash\)
-DRDK\_BUILD\_SLN\_SUPPORT=OFF \(\backslash\)
-DBoost\_INCLUDE\_DIR=/path/to/boost/boost@1.60/1.60.0/include/ \(\backslash\)
-DEIGEN3\_INCLUDE\_DIR=/path/to/eigen/3.3.4/include/eigen3/ \(\backslash\)
-DTHREADS\_PTHREAD\_ARG=OFF
\end{DoxyCode}


based on your number of C\+PU\+: 
\begin{DoxyCode}
make -jX
\end{DoxyCode}


\section*{Install R\+D\+Kitjs }

clone this repository 
\begin{DoxyCode}
git clone https://github.com/thegodone/RDKitjs.git


cd /path/to/RDKitjs/
rm -rf build
mkdir build
cd build
\end{DoxyCode}


\#\#\# for O\+SX 
\begin{DoxyCode}
cmake .. \(\backslash\)
-DCMAKE\_TOOLCHAIN\_FILE=/path/to/emscripten/1.37.33/cmake/Modules/Platform/Emscripten.cmake \(\backslash\)
-DRDKIT\_INCLUDE\_DIR=/path/to/rdkitversion/rdkit-Release\_2017\_09\_3/Code/ \(\backslash\)
-DBoost\_INCLUDE\_DIR=/path/to/boost@1.60/1.60.0/include/  \(\backslash\)
-DRDKIT\_LIB\_DIR=/path/to/rdkitversion/rdkit-Release\_2017\_09\_3/build/lib/ \(\backslash\)
-DRDKitNEWLIB=ON \(\backslash\)
-DEMSCRIPTEN\_BIN=/path/to/emscripten/1.37.33/
\end{DoxyCode}


\#\#\# for Linux 
\begin{DoxyCode}
cmake .. \(\backslash\)
-DCMAKE\_TOOLCHAIN\_FILE=/path/to/emscripten/1.37.33/cmake/Modules/Platform/Emscripten.cmake \(\backslash\)
-DRDKIT\_INCLUDE\_DIR=/path/to/rdkitversion/rdkit-Release\_2015\_03\_1/Code \(\backslash\)
-DBoost\_INCLUDE\_DIR=/path/to/boost/include \(\backslash\)
-DRDKIT\_LIB\_DIR=/path/to/rdkitversion/rdkit-Release\_2015\_03\_1/lib \(\backslash\)
-DEMSCRIPTEN\_BIN=/path/to/emscripten/1.37.33/
\end{DoxyCode}



\begin{DoxyCode}
rm src/rdkit.js

make

cp src/rdkit.js ../build/src/rdkit.js

# create a web loading file
npm run build-test

# copy web loading file into the localhost folder
cp ../test/rdkit.js /path/to/localhostcode/rdkitjs/rdkit.js
\end{DoxyCode}


Please take a look at those references\+:

=$>$ Ubuntu 14.\+04\+: ~\newline
\href{http://baoilleach.blogspot.ch/2015/02/cheminformaticsjs-rdkit.html}{\tt http\+://baoilleach.\+blogspot.\+ch/2015/02/cheminformaticsjs-\/rdkit.\+html} ~\newline
 \href{http://gmrand.blogspot.ch/2015/03/howto-install-rdkit-and-emscripten-on.html}{\tt http\+://gmrand.\+blogspot.\+ch/2015/03/howto-\/install-\/rdkit-\/and-\/emscripten-\/on.\+html} ~\newline
 =$>$ O\+SX\+: \href{http://gmrand.blogspot.ch/2015/05/howto-install-rdkit-and-emscripten-on.html}{\tt http\+://gmrand.\+blogspot.\+ch/2015/05/howto-\/install-\/rdkit-\/and-\/emscripten-\/on.\+html}

P.\+S.\+: C\+A\+U\+T\+I\+ON due to a bug report we suggest to apply this patch to rdkit

\section*{O\+N\+LY for R\+D\+K\+IT version 2015.\+03.\+1 \+: Patching of R\+D\+Kit files for emscripten binding }


\begin{DoxyItemize}
\item adding class M\+M\+F\+F\+Mol\+Properties in rdkit/\+Code/\+Graph\+Mol/\+Force\+Field\+Helpers/\+M\+M\+F\+F/\+Builder.\+h 
\begin{DoxyCode}
  namespace RDKit \{
    class ROMol;
    namespace MMFF \{
+     class MMFFMolProperties;
\end{DoxyCode}

\item adding Atom\+Typer.\+h in rdkit/\+Code/\+Graph\+Mol/\+Force\+Field\+Helpers/\+M\+M\+F\+F/\+M\+M\+F\+F.\+h 
\begin{DoxyCode}
  #include <ForceField/ForceField.h>
+ #include "AtomTyper.h"
  #include "Builder.h"
\end{DoxyCode}

\end{DoxyItemize}

\section*{Want to try it without compilation ? It\textquotesingle{}s already possible }

Thers is a first example in the visualizer project there\+: ~\newline
 \href{http://www.lactame.com/visualizer/head/index.html?viewURL=http://visualizer.epfl.ch/x/urhBCrzbZ0r75WWbEmRp/view.json&dataURL=http://visualizer.epfl.ch/x/urhBCrzbZ0r75WWbEmRp/data.json}{\tt http\+://www.\+lactame.\+com/visualizer/head/index.\+html?view\+U\+R\+L=http\+://visualizer.\+epfl.\+ch/x/urh\+B\+Crzb\+Z0r75\+W\+Wb\+Em\+Rp/view.\+json\&data\+U\+R\+L=http\+://visualizer.\+epfl.\+ch/x/urh\+B\+Crzb\+Z0r75\+W\+Wb\+Em\+Rp/data.\+json} ~\newline
 You can draw a molecule in the botton module which will generate the 3D model using M\+M\+FF force field.

another example of javascript can be found there\+: ~\newline
\href{https://iwatobipen.wordpress.com/2015/05/21/rdkit-in-javascript/}{\tt https\+://iwatobipen.\+wordpress.\+com/2015/05/21/rdkit-\/in-\/javascript/} ~\newline
thanks to iwatobipen! ~\newline
source code\+: \href{https://github.com/iwatobipen/rdkit_javascript}{\tt https\+://github.\+com/iwatobipen/rdkit\+\_\+javascript} ~\newline
 You can also use nodejs\+: ~\newline
the current module is available for npm / nodejs\+: ~\newline
\href{https://www.npmjs.com/package/rdkit}{\tt https\+://www.\+npmjs.\+com/package/rdkit} ~\newline
 \section*{Current stability status }

This project is not stable but lot of basic R\+D\+Kit functions are already ported look at the test/exemple.\+txt file for a example of function availables ~\newline
 to have a complete list of available function look at the E\+M\+S\+C\+R\+I\+P\+T\+E\+N\+\_\+\+B\+I\+N\+D\+I\+N\+GS section in rdmol.\+h ~\newline
 there are two type of methods\+: ~\newline
$\ast$ create a molecule (class\+\_\+function) ~\newline
$\ast$ apply functions on a created molecule (function) ~\newline
 \section*{Future requests / help / missing R\+D\+Kit functions }

If you want to contribute or need R\+D\+Kit functions not already mapped please add a comment in the issues of this project. ~\newline
 Guillaume Godin 